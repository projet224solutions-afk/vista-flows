# üåê Cloudflare Worker - Global Load Balancer
# Configuration wrangler.toml

name = "224solutions-global-lb"
main = "global-load-balancer.js"
compatibility_date = "2024-01-01"

# Production
[env.production]
route = { pattern = "api.224solutions.com/*", zone_name = "224solutions.com" }

# Staging
[env.staging]
route = { pattern = "api-staging.224solutions.com/*", zone_name = "224solutions.com" }

# Variables d'environnement
[vars]
ENVIRONMENT = "production"
LOG_LEVEL = "info"

# KV Namespace pour le cache des health checks
# [[kv_namespaces]]
# binding = "HEALTH_CACHE"
# id = "your-kv-namespace-id"

# Durable Objects pour le state (optionnel)
# [[durable_objects.bindings]]
# name = "REGION_STATE"
# class_name = "RegionState"

# Analytics (optionnel)
# [[analytics_engine_datasets]]
# binding = "ANALYTICS"
